(this.webpackJsonpopt=this.webpackJsonpopt||[]).push([[0],{10:function(e,t,a){"use strict";a.r(t);var r=a(0),i=a.n(r),n=a(2),o=a.n(n),l=(a(9),a(3));var h=function(e){var t,a,n=e.board,o=i.a.useRef(null),l=i.a.useRef(null),h=i.a.useRef(null),m=function(e){var a=e.current;(t=a.getContext("2d")).beginPath(),t.fillStyle="#ccc",t.strokeStyle="#000",t.lineWidth=4,t.fillRect(0,0,n.ow,n.oh),t.stroke(),t.strokeStyle="#555",t.fillStyle="#fff",t.lineWidth=1,n.items.forEach((function(e){var a=e.r?e.w:e.h,r=e.r?e.h:e.w;t.fillRect(e.x,e.y,r,a),t.strokeRect(e.x,e.y,r,a),t.stroke(),function(e,t){var a,r;e.font="normal 32px Arial",e.lineWidth=1,e.fillStyle="navy",e.fillText(t.n,t.x+5,t.y+40),e.stroke(),e.font="normal 32px Helvetica",e.lineWidth=1,e.fillStyle="#555",t.r?(a=t.x+5,r=t.y+Math.round(t.w/2)-10,e.fillText(t.w+" x "+t.h,a,r)):(a=t.x+5,r=t.y+Math.round(t.h/2)-10,e.fillText(t.h+" x "+t.w,a,r)),e.stroke(),e.fillStyle="#FFF",e.strokeStyle="#555",e.lineWidth=1}(t,e)}))};return Object(r.useEffect)((function(){var e=o.current,r=l.current;t=e.getContext("2d"),a=r.getContext("2d"),t.scale(.25,.25),a.scale(.5,.5)}),[]),Object(r.useEffect)((function(){m(o),m(l)})),i.a.createElement("div",{className:"content-wrapper",style:{paddingTop:"0px"}},i.a.createElement("div",{className:"card",style:{margin:"0px",width:n.ow/4+50}},i.a.createElement("div",{className:"card-body"},i.a.createElement("div",{style:{font:"11px Verdana",fontWeight:"bold",paddingBottom:"5px",color:"#555"}},"Code: ",n.materialCode," \xa0 Board: ",n.boardNumberText," \xa0  \xa0 H: ",n.oh," \xa0 W: ",n.ow," \xa0  "),i.a.createElement("canvas",{style:{cursor:"pointer"},width:n.ow/4,height:n.oh/4,ref:o,onClick:function(){h.current.click()}}))),i.a.createElement("div",{className:"modal fade",id:"board_"+n.boardNumberText,tabIndex:"-1",role:"dialog","aria-labelledby":"customersModalLabel","data-backdrop":"static","data-keyboard":"false"},i.a.createElement("div",{className:"modal-dialog modal-lg mt-0",style:{width:n.ow/2+50}},i.a.createElement("div",{className:"modal-content",style:{marginTop:"10px"}},i.a.createElement("div",{className:"modal-header",style:{paddingTop:"2px",paddingBottom:"0px"}},i.a.createElement("h5",{className:"modal-title"},"Code: ",n.materialCode," \xa0  Board: ",n.boardNumberText," \xa0  \xa0 H: ",n.oh," \xa0 W: ",n.ow),i.a.createElement("button",{id:"btnCustomersClose",type:"button",className:"btn btn-light","data-dismiss":"modal"}," Back ",i.a.createElement("i",{className:"icon-login"})," ")),i.a.createElement("div",{className:"modal-body",style:{paddingBottom:"0px"}},i.a.createElement("canvas",{width:n.ow/2,height:n.oh/2,ref:l}))))),i.a.createElement("button",{type:"button",ref:h,id:"btnZoom",style:{visibility:"hidden"},"data-toggle":"modal","data-target":"#board_"+n.boardNumberText}))};var m=function(){var e=function(){var e=[];return e.push({materialCode:1,qty:3,itemNumber:1,r:!1,height:450,width:450,grains:!0,x:-1,y:-1}),e.push({materialCode:1,qty:5,itemNumber:2,r:!1,height:950,width:492,grains:!1,x:-1,y:-1}),e.push({materialCode:1,qty:2,itemNumber:3,r:!1,height:950,width:495,grains:!1,x:-1,y:-1}),e.push({materialCode:1,qty:6,itemNumber:4,r:!1,height:350,width:437,grains:!1,x:-1,y:-1}),e.push({materialCode:1,qty:7,itemNumber:5,r:!1,height:410,width:437,grains:!1,x:-1,y:-1}),e.push({materialCode:1,qty:3,itemNumber:6,r:!1,height:760,width:515,grains:!1,x:-1,y:-1}),e.push({materialCode:1,qty:2,itemNumber:7,r:!1,height:760,width:505,grains:!1,x:-1,y:-1}),e.push({materialCode:1,qty:2,itemNumber:8,r:!1,height:400,width:50,grains:!0,x:-1,y:-1}),e.push({materialCode:1,qty:2,itemNumber:9,r:!1,height:750,width:440,grains:!0,x:-1,y:-1}),e.push({materialCode:2,qty:2,itemNumber:10,r:!1,height:750,width:470,grains:!0,x:-1,y:-1}),e.push({materialCode:2,qty:1,itemNumber:11,r:!1,height:350,width:430,grains:!0,x:-1,y:-1}),e.push({materialCode:2,qty:1,itemNumber:12,r:!1,height:750,width:400,grains:!0,x:-1,y:-1}),e.push({materialCode:2,qty:1,itemNumber:13,r:!1,height:400,width:430,grains:!0,x:-1,y:-1}),e.push({materialCode:2,qty:2,itemNumber:14,r:!1,height:750,width:470,grains:!0,x:-1,y:-1}),e.push({materialCode:2,qty:2,itemNumber:15,r:!1,height:991,width:462,grains:!1,x:-1,y:-1}),e.push({materialCode:2,qty:2,itemNumber:16,r:!1,height:327,width:593,grains:!1,x:-1,y:-1}),e.push({materialCode:2,qty:5,itemNumber:17,r:!1,height:613,width:593,grains:!1,x:-1,y:-1}),e.push({materialCode:2,qty:5,itemNumber:18,r:!1,height:163,width:593,grains:!1,x:-1,y:-1}),e.push({materialCode:2,qty:5,itemNumber:19,r:!1,height:202,width:595,grains:!1,x:-1,y:-1}),e.push({materialCode:2,qty:5,itemNumber:20,r:!1,height:730,width:800,grains:!1,x:-1,y:-1}),e.push({materialCode:2,qty:5,itemNumber:21,r:!1,height:210,width:175,grains:!1,x:-1,y:-1}),e.push({materialCode:2,qty:1,itemNumber:22,r:!1,height:693,width:272,grains:!1,x:-1,y:-1}),e.push({materialCode:2,qty:1,itemNumber:23,r:!1,height:200,width:598,grains:!0,x:-1,y:-1}),e.push({materialCode:2,qty:1,itemNumber:24,r:!1,height:693,width:638,grains:!1,x:-1,y:-1}),e.push({materialCode:2,qty:1,itemNumber:25,r:!1,height:693,width:395,grains:!1,x:-1,y:-1}),e.push({materialCode:2,qty:1,itemNumber:26,r:!1,height:693,width:396,grains:!1,x:-1,y:-1}),e.push({materialCode:2,qty:1,itemNumber:27,r:!1,height:693,width:346,grains:!1,x:-1,y:-1}),e.push({materialCode:3,qty:1,itemNumber:28,r:!1,height:693,width:630,grains:!1,x:-1,y:-1}),e.push({materialCode:3,qty:1,itemNumber:29,r:!1,height:600,width:428,grains:!1,x:-1,y:-1}),e.push({materialCode:3,qty:4,itemNumber:30,r:!1,height:600,width:435,grains:!1,x:-1,y:-1}),e.push({materialCode:3,qty:4,itemNumber:31,r:!1,height:600,width:437,grains:!1,x:-1,y:-1}),e.push({materialCode:3,qty:4,itemNumber:32,r:!1,height:920,width:492,grains:!1,x:-1,y:-1}),e.push({materialCode:3,qty:4,itemNumber:33,r:!1,height:460,width:420,grains:!1,x:-1,y:-1}),e.push({materialCode:3,qty:4,itemNumber:34,r:!1,height:920,width:495,grains:!1,x:-1,y:-1}),e.push({materialCode:3,qty:1,itemNumber:35,r:!1,height:113,width:183,grains:!1,x:-1,y:-1}),e.push({materialCode:3,qty:1,itemNumber:36,r:!1,height:143,width:163,grains:!1,x:-1,y:-1}),e.push({materialCode:3,qty:1,itemNumber:37,r:!1,height:143,width:193,grains:!1,x:-1,y:-1}),e.push({materialCode:3,qty:1,itemNumber:38,r:!1,height:143,width:193,grains:!1,x:-1,y:-1}),e.push({materialCode:3,qty:1,itemNumber:39,r:!1,height:143,width:193,grains:!1,x:-1,y:-1}),e.push({materialCode:3,qty:6,itemNumber:40,r:!1,height:143,width:193,grains:!1,x:-1,y:-1}),e.push({materialCode:3,qty:6,itemNumber:41,r:!1,height:143,width:193,grains:!1,x:-1,y:-1}),e.push({materialCode:3,qty:6,itemNumber:42,r:!1,height:143,width:193,grains:!1,x:-1,y:-1}),e.push({materialCode:3,qty:6,itemNumber:43,r:!1,height:143,width:193,grains:!1,x:-1,y:-1}),e.push({materialCode:3,qty:6,itemNumber:44,r:!1,height:113,width:183,grains:!1,x:-1,y:-1}),e.push({materialCode:3,qty:1,itemNumber:45,r:!1,height:113,width:183,grains:!1,x:-1,y:-1}),e.push({materialCode:3,qty:1,itemNumber:46,r:!1,height:113,width:183,grains:!1,x:-1,y:-1}),e}(),t=Object(r.useState)([]),a=Object(l.a)(t,2),n=a[0],o=a[1],m=(i.a.useRef(null),[]),s=[],d=[],u=[],c=[];e.map((function(e){if(1==e.qty){var t={n:e.itemNumber,m:e.materialCode,h:e.height,w:e.width,b:0,x:-1,y:-1,r:!1};d.push(t)}else for(var a=1;a<=e.qty;){var r={n:e.itemNumber+"("+a+")",m:e.materialCode,h:e.height,w:e.width,b:0,x:-1,y:-1,r:!1};d.push(r),a++}})),m.push({materialCode:1,shortname:"BSL WHITE",itemCount:0,itemArea:0,boardCount:0}),m.push({materialCode:2,shortname:"OSL GRAY",itemCount:0,itemArea:0,boardCount:0}),m.push({materialCode:3,shortname:"MDF RED",itemCount:0,itemArea:0,boardCount:0}),s.push({materialCode:1,boardNumber:1,h:2420,w:1210,grains:!0,totalQty:10,usedQty:0}),s.push({materialCode:2,boardNumber:1,h:2120,w:1010,grains:!0,totalQty:10,usedQty:0}),s.push({materialCode:3,boardNumber:1,h:1420,w:810,grains:!0,totalQty:10,usedQty:0});for(var g,y,f=function(e,t,a,r,i){for(var n=0,o=0;r<e.length;){var l=e[r];if(-1===l.x){if(l.h<=t.h&&l.h>=t.h-a&&l.w<=t.w)return p(t,[l]),n=l.w,o=l.h,i.items.push(l),{newX:n,index:r,newY:o};if(l.w<=t.h&&l.w>=t.h-a&&l.h<=t.w)return l.r=!0,p(t,[l]),n=l.h,o=l.w,i.items.push(l),{newX:n,index:r,newY:o}}r++}return{newX:n,index:r,newY:o}},p=function(e,t){for(var a=e.y,r=0;r<t.length;r++){t[r].x=e.x,t[r].y=a;var i=t[r].r?t[r].w:t[r].h;t[r].r?t[r].h:t[r].w;a+=i}},w=function(e,t,a){var r=[];e.map((function(e){r.push(e.h)}));var i,n=(i=r).reduce((function(e,t){return e+t}),0)/i.length,o=[];e.map((function(e){e.h>n&&(o.find((function(t){return t.h===e.h}))||o.push(e))}));var l=e.filter((function(e){return-1==e.x&&e.h<=t.h})).sort((function(e,t){return parseInt(e.h)+parseInt(e.w)>parseInt(t.h)+parseInt(t.w)?-1:1}))[0];return l&&(l.x=0,l.y=a,g={h:l.h,w:t.w-l.w,x:l.w,y:a},0===a&&u.push({n:l.n,p:0})),l},b=function(e,t,a){for(var r=e.length,i=0;i<=g.h-y;i++)for(var n=-1,o=0;o<r&&g.w>=y;){var l=f(e,g,i,o,a);if(l.buffer=i,n=l.newX,o=l.index+1,0!=n){var h=l.newY,m={h:g.h-h,w:n,x:g.x,y:g.y+h};(m.w>=y||m.h>=y)&&t.push(m),g.w-=n,g.x+=n}}},x=[],v=0;v<10;v++)x.push([]);[].push({h:2420,w:1210}),console.log("1. Loaded");var C=function(e,t){var a=t.sort((function(e,t){return e.h<t.h?-1:1}))[0].h,r=t.sort((function(e,t){return e.w<t.w?-1:1}))[0].w;y=a<r?a:r;var i=0,n=w(t,e,i);if(n&&null!=n){e.items.push(n),b(t,x[0],e);for(var o=function(a){if(0===x[a].length)return"break";x[a].forEach((function(r){g=r,b(t,x[a+1],e)}))},l=0;l<10;l++){if("break"===o(l))break}for(var h=!1;!h;)if(e.h-=n.h,i+=n.h,n=w(t,e,i)){e.items.push(n);for(var m=0;m<10;m++)x[m]=[];b(t,x[0],e);for(var s=function(a){if(0===x[a].length)return"break";x[a].forEach((function(r){g=r,b(t,x[a+1],e)}))},d=0;d<10;d++){if("break"===s(d))break}}else console.log("Board completed."),h=!0;c.push(e)}else console.log("No First Item")};return Object(r.useEffect)((function(){m.map((function(e){var t=d.filter((function(t){return t.m==e.materialCode}));e.items=t,console.log("material - "+t.length);var a=s.filter((function(t){return t.materialCode==e.materialCode}));e.boards=a;for(var r=0;r<a.length;r++){for(var i=a[r],n=i.totalQty,o=0;n>0&&t.filter((function(e){return-1==e.x})).length>0;){o++;var l={materialCode:i.materialCode,boardNumberText:i.boardNumber+"_"+o,h:i.h,w:i.w,oh:i.h,ow:i.w,grains:i.grains,items:[]};C(l,t),n--}if(i.usedQty=o,0==t.filter((function(e){return-1==e.x})).length){console.log("all items were fitted in the board");break}}})),o(c)}),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"container-scroller"},i.a.createElement("table",{style:{backgroundColor:"#090e40"}},i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement("div",{className:"navbar-brand brand-logo-mini"},i.a.createElement("span",{style:{color:"#439aff",fontFamily:"Impact",fontSize:"26px"}}," WOW"),i.a.createElement("span",{style:{color:"#ccc",fontFamily:"Impact",fontSize:"24px"}}," OPTIMIZATION"))),i.a.createElement("td",null,i.a.createElement("div",{className:"navbar-brand brand-logo-mini"},i.a.createElement("span",{style:{color:"#fff",fontFamily:"Impact",fontSize:"32px"}}," ABY 100920-A"))),i.a.createElement("td",{style:{backgroundColor:"#eee",border:"#090e40 2px solid",width:"100%"}},i.a.createElement("table",{style:{margin:"5px"}},i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement("div",{className:"form-group",style:{marginBottom:"0px",width:"200px"}},i.a.createElement("span",{style:{font:"12px Verdana",fontWeight:"bold"}},"Material")," ",i.a.createElement("br",null),i.a.createElement("select",{id:"type",name:"type",className:"js-example-basic-single input-xs  w-100"},m.map((function(e){return i.a.createElement("option",{value:e.materialCode,key:e.materialCode},"(",e.materialCode,") ",e.shortname)})))))))))),i.a.createElement("div",{className:"container-fluid page-body-wrapper"},i.a.createElement("div",{className:"main-panel"},i.a.createElement("div",{className:"card",style:{margin:"0px",width:"100%"}},i.a.createElement("div",{className:"card-body"})),i.a.createElement("div",{style:{width:window.innerWidth,overflowX:"scroll"}},i.a.createElement("table",null,i.a.createElement("tr",null,n.map((function(e){return i.a.createElement("td",null,i.a.createElement(h,{board:e}))})))))))))},s=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function d(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(m,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");s?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var r=a.headers.get("content-type");404===a.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):d(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):d(t,e)}))}}()},4:function(e,t,a){e.exports=a(10)},9:function(e,t,a){}},[[4,1,2]]]);
//# sourceMappingURL=main.7760b9ac.chunk.js.map